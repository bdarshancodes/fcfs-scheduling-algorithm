#include<stdio.h>
struct process
{
    int pid,at,bt,tat,ct,wt;
};

void main(){
    int i,n;
    float avtat=0,avwt=0,avgtat,avgwt;
    struct process p[100];
    printf("enter number of processes..\n");
    scanf("%d",&n);
    for ( i = 0; i < n; i++)
    {
        p[i].pid=i;
        printf("enter detials of process %d\n",i+1);
        printf("enter AT,BT\n");
        scanf("%d%d",&p[i].at,&p[i].bt);
    }
    p[0].ct=p[0].at+p[0].bt;
    p[0].tat=p[0].ct-p[0].at;
    p[0].wt=0;

    for ( i = 1; i < n; i++)
    {
        if (p[i-1].ct<p[i].at)
        {
            p[i].ct=p[i].at+p[i].bt;
        }
        else{
            p[i].ct=p[i-1].ct+p[i].bt;

        }
        p[i].tat=p[i].ct-p[i].at;
        p[i].wt=p[i].tat-p[i].bt;
        printf("\nPID\tAT\tBT\tCT\tTAT\tWT\n"); 
        
    }
    for ( i = 0; i < n; i++)
    {
        printf("%d,%d,%d",p[i].pid,p[i].at,p[i].bt);
    }
    for ( i = 0; i < n; i++)
    {
        avtat=avtat+p[i].tat;
        avwt=avwt+p[i].wt;
    }
    avgtat=avtat/n;
    avgwt=avwt/n;
    printf("avg tat=%f",avgtat);
    printf("avg wt=%f",avgwt);
    
    
    
    
}